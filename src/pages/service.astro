---
import Layout from "../layouts/Layout.astro";
import Header from "../components/header.astro";
import ContactBtn from '../components/contactBtn.astro';

import { getCollection } from 'astro:content';
import { Image } from "astro:assets";

const servicePageData = await getCollection("service_page");
---
<Layout>
    <Header 
        title={servicePageData[0].data.headertitle} 
        subTitle={servicePageData[0].data.subtitle} 
        background={servicePageData[0].data.background_image}
    />
    <main class="flex flex-col items-center gap-7 md:gap-14 2xl:gap-28 mb-8 md:mb-28 sm:mt-14 2xl:mt-16">
		<div class="flex flex-col gap-11 my-5">
			<h3 class="text-primary font-Jakarta text-center text-2xl md:text-3xl xl:text-4xl 2xl:text-5xl font-bold">{servicePageData[0].data.oil_section.introduction_section.title}</h3>
		</div>

        <div class=" rounded flex flex-col-reverse gap-4 items-end w-[272px] mt-10 sm:w-[400px] md:w-fit md:gap-10 md:flex-row md:mx-5 md:mt-0 md:items-center lg:gap-20">
			<div class=" z-10 font-Jakarta md:w-[467px] xl:w-[700px] flex flex-col items-center gap-8 md:mb-0">
				{
					servicePageData[0].data.oil_section.introduction_section.paragraphs.map((data)=>{
						return(
							<h3 class=" text-base text-black text-justify sm:text-lg font-medium xl:text-3xl 2xl:text-4xl">{data.content}</h3>
						)
					})
				}
            </div>
			<Image class=" rounded-lg w-full h-full md:w-[304px] md:h-[254px] md:relative xl:inline xl:w-[540px] xl:h-[350px] 2xl:w-[617px] 2xl:h-[432px] 2xl:rounded-[20px]" src={servicePageData[0].data.oil_section.introduction_section.main_image} alt="group image">
		</div>

        <h3 class=" text-primary font-Jakarta text-center text-2xl md:text-3xl xl:text-4xl 2xl:text-5xl font-bold">{servicePageData[0].data.oil_section.card_section.title}</h3>
		
		<div class="flex flex-wrap justify-center gap-8 px-5">
			{
				servicePageData[0].data.oil_section.card_section.service_card.map((data)=>{
					return(
						<div class="bg-accent w-[285px] h-[342px] font-Jakarta font-bold flex flex-col items-center gap-3 rounded-lg min-[940px]:w-[391px] min-[940px]:h-[503px]">
							<h1 class="text-xl flex flex-col justify-center text-center items-center text-secondary w-[221px] h-[80px] min-[940px]:text-[32px] min-[940px]:w-[370px] min-[940px]:h-[80px]">{data.card_title}</h1>
							<p class="font-medium font-Jakarta text-base text-justify mx-4 min-[940px]:text-2xl">{data.card_content}</p>
						</div>
					)
				})
			}
		</div>

		<div class="bg-accent w-full flex flex-col justify-center items-center py-14 gap-10">
			<div class="max-w-[554px]">
				<h4 class="text-2xl xl:text-4xl font-bold text-center">
					{
						servicePageData[0].data.oil_section.call_to_action.content
					}
				</h4>
			</div>
			<div class=" flex justify-center">
				<ContactBtn btnContent={servicePageData[0].data.oil_section.call_to_action.button_text} btnLink={servicePageData[0].data.oil_section.call_to_action.button_link}/>
			</div>
		</div>
		
		<div class="flex flex-col gap-11 my-5">
			<h3 class="text-primary font-Jakarta text-center text-2xl md:text-3xl xl:text-4xl 2xl:text-5xl font-bold">{servicePageData[0].data.chorume_section.introduction_section.title}</h3>
		</div>

		<div class=" rounded flex flex-col-reverse gap-4 items-end w-[272px] mt-10 sm:w-[400px] md:w-fit md:gap-10 md:flex-row md:mx-5 md:mt-0 md:items-center lg:gap-20">
			<div class=" z-10 font-Jakarta md:w-[467px] xl:w-[700px] flex flex-col items-center gap-8 md:mb-0">
				{
					servicePageData[0].data.chorume_section.introduction_section.paragraphs.map((data)=>{
						return(
							<h3 class=" text-base text-black text-justify sm:text-lg font-medium xl:text-3xl 2xl:text-4xl">{data.content}</h3>
						)
					})
				}
            </div>
			<Image class=" rounded-lg w-full h-full md:w-[304px] md:h-[254px] md:relative xl:inline xl:w-[540px] xl:h-[350px] 2xl:w-[617px] 2xl:h-[432px] 2xl:rounded-[20px]" src={servicePageData[0].data.chorume_section.introduction_section.main_image} alt="group image">
		</div>

		<h3 class=" text-primary font-Jakarta text-center text-2xl md:text-3xl xl:text-4xl 2xl:text-5xl font-bold">{servicePageData[0].data.chorume_section.card_section.title}</h3>
		
		<div class="flex flex-wrap justify-center gap-8 px-5">
			{
				servicePageData[0].data.chorume_section.card_section.card.map((data)=>{
					return(
						<div class="bg-accent w-[285px] h-[342px] font-Jakarta font-bold flex flex-col items-center gap-3 rounded-lg min-[940px]:w-[391px] min-[940px]:h-[503px]">
							<h1 class="text-xl flex flex-col justify-center text-center items-center text-secondary w-[221px] h-[80px] min-[940px]:text-[32px] min-[940px]:w-[370px] min-[940px]:h-[80px]">{data.card_title}</h1>
							<p class="font-medium font-Jakarta text-base text-justify mx-4 min-[940px]:text-2xl">{data.card_content}</p>
						</div>
					)
				})
			}
		</div>

		<div>
			{
				servicePageData[0].data.chorume_section.chorume_section_detail.map((section)=>{
					return(
						<div class=" flex flex-col xl:flex-row gap-[30px] xl:gap-[80px] justify-center items-center font-Jakarta">
							<Image 
								class=" rounded-md hidden md:inline md:w-[506px] md:h-[310px] xl:w-[592px] xl:h-[363px]"
								src={section.main_image}
								alt="main image"
							/>
							<div class="flex flex-col gap-[30px] xl:gap-[50px] max-w-[310px] md:max-w-[723px] xl:max-w-[820px]">
								<div class="flex flex-col gap-[30px]">
									<div class=" flex w-full justify-center xl:justify-start">
										<h4 class="font-bold text-center xl:text-left max-w-[526px] text-lg md:text-2xl xl:text-3xl">
											{
												section.title
											}
										</h4>
									</div>
									<p class=" text-justify text-xs md:text-base xl:text-lg">{section.content}</p>
								</div>
								<div class="flex justify-center">
									<ContactBtn btnContent={section.button_text} btnLink={section.button_link}/>
								</div>
							</div>
						</div>
					)
				})
			}
		</div>
    </main>
</div>
</Layout>